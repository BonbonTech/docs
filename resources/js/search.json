[[{"l":"Getting Started","p":["Bonbon helps content creators connect and engage with their audiences through a suite of customizable tools that deliver real business impact with ease."]},{"l":"Bonbon Web Tags","p":["Bonbon Web Tags are installed on websites and offer out-of-the-box ways to reward users for their engagement."]},{"l":"Installation","p":["To add Bonbon Web Tags to your site, get your client ID from your Bonbon Account Manager and then drop this tag in the head of your pages (or in your tag manager):"]}],[{"l":"Widgets"},{"l":"The Rewards Widget","p":["The bonbon-rewards widget offers a rewarding experience for your users that drives engagement & registrations. bonbon-rewards uses the site, site section & page context to deliver a relevant prize offer, quiz and/or poll that delivers incremental time on site, ad viewability & optimizes conversion to an addressable user in a 3rd party cookieless world.","The widget can be rendered inline like so:","Renders:","bonbon-rewards can be configured to show automatically in a modal based on a variety of combinatorial targeting factors including:","Single session article view depth","Cross session article view depth","Country","Page URL Match (regex)","Custom parameters (talk to your Account Manager)","Or you can trigger the modal directly using our JS SDK by calling:","Click here to see Bonbon Rewards load in a soft modal"]},{"l":"AdWall","p":["The bonbon-ad-wall widget is intended to be rendered in a modal and can be configured as a hard or soft gate. A hard gate would require the user to watch a short video ad or register to get access to content for a configurable dimension e.g. 4 hours, 3 days, 4 articles, 4 sessions.","The modal can be configured to show automatically based on a variety of combinatorial targeting factors including:","Single session article view depth","Cross session article view depth","Country","Page URL Match (regex)","Custom parameters (talk to your Account Manager)","Or you can trigger the modal directly using our JS SDK by calling:","Click here to see the Bonbon Ad Wall load in a soft modal"]},{"l":"Leaderboard","p":["The bonbon-leaderboard widget shows the top 100 users by their earned engagement points."]},{"l":"Login Button","p":["The bonbon-sso-button custom element can be used to let users know they can login to their Bonbon account.","Renders the Bonbon SSO Button:"]}],[{"l":"JS API","p":["Bonbon exposes a JavaScript API to your pages so you can customize your site's behavior."]},{"l":"Event Lifecycle","p":["{ detail: hashed_email: 'xxx', earn_token: 'yyy'}","Bonbon Web Tags emit JavaScript events to let the page know about various state changes during a user's visit. The first event in the lifecycle is the bonbon::initialized event which occurs after the page's DOMContentLoaded event. You can listen for this event like this:","bonbon::dismissed","bonbon::initialized","bonbon::login","bonbon::logout","bonbon::opened","Description","Event Name","Fired when Bonbon has fully initialized and is ready for interaction.","Fired whenever a user closes a Bonbon modal.","Fired whenever a user opens a Bonbon modal.","Fired whenever a user transitions from the logged in to the logged out state.","Fired whenever a user transitions from the logged out to logged in state and on every page view when a user is logged in.","Here is a complete list of Bonbon Web Tag events:","None","Payload"]},{"l":"SPA","p":["If your application is a Single Page Application (SPA), you must let Bonbon know by either configuring your Web Tags for SPA or by calling enableSPA after the bonbon::initialized event:"]}],[{"l":"IAM User Syncing","p":["If you have your own Identity and Access Management (IAM) system, Bonbon can streamline the synchronization of users between your systems and ours.","This integration requires making changes to your server-side systems and will require engineering resources. Please connect with your Technical Account Manager (TAM) to discuss integrating Bonbon’s IAM User Syncing."]},{"i":"bonbon---publisher","l":"Bonbon -> Publisher","p":["For this integration you’ll need your Bonbon Client ID (same as from the initial Bonbon Web Tags installation), a Client Secret Key (get from your TAM) and an earn token JWT, such as one from a bonbon::login event.","The first thing you’ll want to do is set up a webhook endpoint that will receive POST requests of the following form:","Next, your webhook server code will call the Bonbon API using your Client ID, Client Secret and Earn Token JWT value from the Authorization header of the webhook endpoint like in this sample cURL request:","Which will return you a user object like this:","You can use that information to update your user datastore and/or set a cookie to log the user into your site.","Note: If your system already has an account for the user with the provided email address, for added security, it is recommended that you prompt the user to login to your system to link the accounts. Upon successful authentication, you should link the accounts in your IAM system. Once the accounts are linked, the additional authentication is not required on subsequent logins.","Note: Bonbon’s servers will hit your webhook periodically to update user information, for example, when new profile data is supplied or if the user changes preferences to things like newsletters, personalized ads, etc."]},{"i":"publisher---bonbon","l":"Publisher -> Bonbon","p":["If a user is logged into your system, we recommend you let Bonbon Web Tags know by identifying them on the page using the JavaScript below:","The value of BONBON_ID_TOKEN token can be generated using our /v1/jwt API endpoint","With the call to bonbontag above, Bonbon will tailor all widget experiences so that the user does not need to re-enter their email address and can simply opt-in to Bonbon Rewards with a single click."]}],[{"l":"Cookie Life Extension","p":["If you’re using a reverse proxy like CloudFlare or Fast.ly to host your domain you can enable Bonbon to extend 1p cookie life by setting up a bonbon.yourdomain.com subdomain.","Add the following CNAME record: get this value from your Bonbon account manager","Add A records from your subdomain e.g. bonbon.example.org to the following IP addresses: 174.129.28.217"]}]]