[[{"l":"Getting Started","p":["Bonbon helps content creators connect and engage with their audiences through a suite of customizable tools that deliver real business impact with ease."]},{"l":"Bonbon Web Tags","p":["Bonbon Web Tags are installed on websites and offer out-of-the-box ways to reward users for their engagement."]},{"l":"Installation","p":["To add Bonbon Web Tags to your site, get your client ID from your Bonbon Account Manager and then drop this tag in the head of your pages (or in your tag manager):"]}],[{"l":"Widgets"},{"l":"The Rewards Widget","p":["The bonbon-rewards widget offers a rewarding experience for your users that drives engagement & registrations. bonbon-rewards uses the site, site section & page context to deliver a relevant prize offer, quiz and/or poll that delivers incremental time on site, ad viewability & optimizes conversion to an addressable user in a 3rd party cookieless world.","The widget can be rendered inline like so:","Renders:","bonbon-rewards can be configured to show automatically in a modal based on a variety of combinatorial targeting factors including:","Single session article view depth","Cross session article view depth","Country","Page URL Match (regex)","Custom parameters (talk to your Account Manager)","Or you can trigger the modal directly using our JS SDK by calling:","Click here to see Bonbon Rewards load in a soft modal"]},{"l":"AdWall","p":["The bonbon-ad-wall widget is intended to be rendered in a modal and can be configured as a hard or soft gate. A hard gate would require the user to watch a short video ad or register to get access to content for a configurable dimension e.g. 4 hours, 3 days, 4 articles, 4 sessions.","The modal can be configured to show automatically based on a variety of combinatorial targeting factors including:","Single session article view depth","Cross session article view depth","Country","Page URL Match (regex)","Custom parameters (talk to your Account Manager)","Or you can trigger the modal directly using our JS SDK by calling:","Click here to see the Bonbon Ad Wall load in a soft modal"]},{"l":"Leaderboard","p":["The bonbon-leaderboard widget shows the top 100 users by their earned engagement points."]},{"l":"Login Button","p":["The bonbon-sso-button custom element can be used to let users know they can login to their Bonbon account.","Renders the Bonbon SSO Button:"]}],[{"l":"JS API","p":["Bonbon exposes a JavaScript API to your pages so you can customize your site's behavior."]},{"l":"API Methods"},{"l":"Programmatically Opening a Rewards Modal","p":["You can programmatically open a Bonbon Reward modal by calling:","Be careful to ensure this happens after the bonbon::initialized event or else window.Bonbon will be undefined."]},{"l":"Getting the Earn Token","p":["You can access the current user's earn token by calling","Be careful, it will return falsey if the user is not logged in!"]},{"l":"SPA","p":["If your application is a Single Page Application (SPA), you must let Bonbon know by either configuring your Web Tags for SPA or by calling enableSPA after the bonbon::initialized event:"]},{"l":"Event Lifecycle","p":["{ detail: hashed_email: 'xxx', earn_token: 'yyy'}","Bonbon Web Tags emit JavaScript events to let the page know about various state changes during a user's visit. The first event in the lifecycle is the bonbon::initialized event which occurs after the page's DOMContentLoaded event. You can listen for this event like this:","bonbon::auth::login","bonbon::dismissed","bonbon::initialized","bonbon::login","bonbon::logout","bonbon::opened","Description","Event Name","Fired on every page view when a user is logged in.","Fired on when a user transitions from logged out to logged in","Fired when Bonbon has fully initialized and is ready for interaction.","Fired whenever a user closes a Bonbon modal.","Fired whenever a user opens a Bonbon modal.","Fired whenever a user transitions from the logged in to the logged out state.","Here is a complete list of Bonbon Web Tag events:","None","Payload"]}],[{"l":"IAM User Syncing","p":["If you have your own Identity and Access Management (IAM) system, Bonbon can streamline the synchronization of users between your systems and ours.","This integration requires making changes to your server-side systems and will require engineering resources. Please connect with your Technical Account Manager (TAM) to discuss integrating Bonbon’s IAM User Syncing."]},{"i":"bonbon---publisher","l":"Bonbon -> Publisher","p":["For this integration you’ll need your Bonbon Client ID (same as from the initial Bonbon Web Tags installation), a Client Secret Key (get from your TAM) and an earn token JWT, such as one from a bonbon::login event.","The first thing you’ll want to do is set up a webhook endpoint that will receive POST requests of the following form:","Next, your webhook server code will call the Bonbon API using your Client ID, Client Secret and Earn Token JWT value from the Authorization header of the webhook endpoint like in this sample cURL request:","Which will return you a user object like this:","You can use that information to update your user datastore and/or set a cookie to log the user into your site.","Note: If your system already has an account for the user with the provided email address, for added security, it is recommended that you prompt the user to login to your system to link the accounts. Upon successful authentication, you should link the accounts in your IAM system. Once the accounts are linked, the additional authentication is not required on subsequent logins.","Note: Bonbon’s servers will hit your webhook periodically to update user information, for example, when new profile data is supplied or if the user changes preferences to things like newsletters, personalized ads, etc."]},{"i":"publisher---bonbon","l":"Publisher -> Bonbon","p":["If a user is logged into your system, we recommend you let Bonbon Web Tags know by identifying them on the page using the JavaScript below:","The value of BONBON_ID_TOKEN token can be generated using our /v1/jwt API endpoint","With the call to bonbontag above, Bonbon will tailor all widget experiences so that the user does not need to re-enter their email address and can simply opt-in to Bonbon Rewards with a single click."]}],[{"i":"bonbon-email","l":"Bonbon Email+","p":["Bonbon Email+ maximizes the revenue you make on inventory that visits your site from your email marketing campaigns. Using addressable alternative IDs like UID2 and LiveRamp ATS, Bonbon Email+ can double the CPMs on page views from email visitors."]},{"l":"MailChimp"},{"i":"part-i-generate-a-mailchimp-api-key","l":"Part I: Generate a MailChimp API Key","p":["Access API Keys Section","Click the \"Create A Key\" button.","Copy Your API Key","From the dropdown menu, select \"Account.\"","Generate an API Key","In the \"Account\" page, click on the \"Extras\" dropdown menu.","It's a good practice to label your API key for future reference, especially if you plan to generate multiple keys. In the \"Label\" column, enter a descriptive name for the API key.","Label Your API Key","Log in to MailChimp","MailChimp will generate a new API key for you.","Navigate to Account Settings","On the API keys page, scroll down to the \"Your API keys\" section.","Once logged in, click on your profile name or avatar in the bottom left corner.","Once the API key is generated, copy it by clicking the \"Copy\" button or manually selecting and copying the key.","Select \"API keys\" from the dropdown menu.","Send your API key to Bonbon"]},{"i":"part-ii-adding-a-custom-field-bonbonid-in-mailchimp","l":"Part II: Adding a Custom Field (bonbonId) in MailChimp","p":["Log in to MailChimp","Navigate to Audience","Select Your Audience","If you have multiple audiences, select the one you want to add the custom field to.","Manage Audience Fields and |MERGE| Tags","In the \"Audience\" dashboard, click on \"Settings.\"","Select \"Audience fields and |MERGE| tags.\"","Add a Field","Click on the \"Add A Field\" button.","Select the type of field you want to add (e.g., Text).","In the \"Field label\" box, enter bonbonId.","The \"Field tag\" will automatically be generated, you should edit it to BONBONID.","Click on \"Save Changes.\""]},{"i":"part-iii-using-the-bonbonid-field-in-email-template-urls","l":"Part III: Using the bonbonId Field in Email Template URLs","p":["Create or Edit an Email Template","Navigate to the \"Campaigns\" section.","Choose to create a new email campaign or edit an existing one.","Edit the Email Content","In the email editor, locate the spot where you want to insert a URL that includes the bonbonId as a query string parameter.","Click on the text block or button block where the URL will be inserted.","Insert a URL with the Query String Parameter","Highlight the text or select the button where you want to add the link.","Click the \"Link\" button in the toolbar.","In the URL field, enter your base URL followed by the query string parameter using the merge tag for bonbonId. The merge tag for the custom field will look like *|BONBONID|*.","For example, if your base URL is https://example.com, you would enter:","Click \"Insert\" or \"Save\" to add the link.","Save and Test","Save your email template.","To test, send a test email to yourself or use the preview function. Ensure that the bonbonId is properly populated in the URL."]},{"l":"Additional Tips","p":["Verify Merge Tag: Ensure you are using the correct merge tag for bonbonId. MailChimp provides a list of available merge tags in the \"Audience fields and |MERGE| tags\" section.","Personalization: You can use this method to personalize other aspects of your email by adding additional query string parameters.","Testing: Always send a test email to verify that the bonbonId is correctly populated in the URL."]}],[{"l":"Cookie Life Extension","p":["If you’re using a reverse proxy like CloudFlare or Fast.ly to host your domain you can enable Bonbon to extend 1p cookie life by setting up a bonbon.yourdomain.com subdomain.","Add the following CNAME record: get this value from your Bonbon account manager","Add A records from your subdomain e.g. bonbon.example.org to the following IP addresses: 174.129.28.217"]}]]